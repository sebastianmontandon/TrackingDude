"use strict";(()=>{var t={};t.id=996,t.ids=[996],t.modules={3524:t=>{t.exports=require("@prisma/client")},399:t=>{t.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:t=>{t.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4475:(t,e,i)=>{i.r(e),i.d(e,{originalPathname:()=>g,patchFetch:()=>h,requestAsyncStorage:()=>f,routeModule:()=>d,serverHooks:()=>x,staticGenerationAsyncStorage:()=>l});var r={};i.r(r),i.d(r,{GET:()=>u,POST:()=>p});var n=i(9303),o=i(8716),a=i(670),s=i(7070);async function c(){let{prisma:t}=await i.e(538).then(i.bind(i,3538));return t}async function u(){try{let t=await c(),e=(await t.notification.findMany({orderBy:{createdAt:"desc"}})).map(t=>({...t,notificationDate:t.notificationDate.toISOString().split("T")[0]}));return s.NextResponse.json(e)}catch(t){return console.error("Error fetching notifications:",t),s.NextResponse.json({error:"Error al obtener notificaciones"},{status:500})}}async function p(t){try{let e=await c(),{type:i,domain:r,provider:n,notificationDate:o,notificationMethod:a}=await t.json(),u=await e.notification.create({data:{type:i,domain:r,provider:n,notificationDate:new Date(o),notificationMethod:a}}),p={...u,notificationDate:u.notificationDate.toISOString().split("T")[0]};return s.NextResponse.json(p,{status:201})}catch(t){return console.error("Error creating notification:",t),s.NextResponse.json({error:"Error al crear notificaci\xf3n"},{status:500})}}let d=new n.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/notifications/route",pathname:"/api/notifications",filename:"route",bundlePath:"app/api/notifications/route"},resolvedPagePath:"C:\\Users\\Stepha Vargas\\Documents\\TrackingDude\\src\\app\\api\\notifications\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:f,staticGenerationAsyncStorage:l,serverHooks:x}=d,g="/api/notifications/route";function h(){return(0,a.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:l})}}};var e=require("../../../webpack-runtime.js");e.C(t);var i=t=>e(e.s=t),r=e.X(0,[276,972],()=>i(4475));module.exports=r})();